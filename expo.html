<!DOCTYPE html>
<html lang="en" class="h-full bg-black">
<head>
    <meta charset="UTF-8">
    <!-- This viewport tag is CRITICAL for mobile browsing to prevent cutoff -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Mobile Game UI</title>
    <!-- Load Tailwind CSS for easy, responsive styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Use Inter font, a clean sans-serif */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Ensure canvas is crisp on all displays */
        canvas {
            image-rendering: -moz-crisp-edges;
            image-rendering: -webkit-crisp-edges;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }
    </style>
</head>
<!-- 
  h-screen: Full viewport height
  overflow-hidden: Prevents scrolling/bouncing on mobile
  flex flex-col: Main layout axis is vertical
-->
<body class="h-dvh overflow-hidden flex flex-col text-gray-100">

    <!-- 
      Top Panel: 25% height (h-1/4)
      flex-shrink-0: Prevents this panel from shrinking
      p-4: Padding
      bg-gray-900: Dark background for the panel
      rounded-b-lg: Nice modern rounded bottom corners
    -->
    <div id="top-panel" class="h-1/4 flex-shrink-0 p-4 bg-gray-900 rounded-b-lg shadow-lg overflow-hidden">
        <div class="flex justify-between items-center mb-3">
            <span class="text-lg font-bold text-green-400 animate-pulse">‚óè STATUS: LIVE</span>
            <span class="text-xs font-mono text-gray-400">SYS_8774B</span>
        </div>
        
        <!-- Live Data Numbers -->
        <div class="grid grid-cols-2 gap-2 text-sm mb-3">
            <div>
                <span class="text-gray-500">SIGNAL_A:</span>
                <span class="font-mono text-cyan-400 ml-1" id="data-1">--.--</span>
            </div>
            <div>
                <span class="text-gray-500">VOLATILITY:</span>
                <span class="font-mono text-red-400 ml-1" id="data-2">--.--%</span>
            </div>
            <div>
                <span class="text-gray-500">CORE_TEMP:</span>
                <span class="font-mono text-amber-400 ml-1" id="data-3">--.--</span>
            </div>
            <div>
                <span class="text-gray-500">PRESSURE:</span>
                <span class="font-mono text-fuchsia-400 ml-1" id="data-4">--.--</span>
            </div>
        </div>

        <!-- Live Chart Canvas -->
        <div class="w-full h-16">
            <canvas id="live-chart" class="w-full h-full bg-black bg-opacity-25 rounded-md"></canvas>
        </div>
    </div>

    <!-- 
      Middle Panel: Fills remaining space (flex-1)
      This area is intentionally left blank as requested.
    -->
    <div id="middle-panel" class="flex-1 overflow-auto">
        <!-- Blank area for game content -->
    </div>

    <!-- 
      Bottom Bar: 15% height
      flex-shrink-0: Prevents shrinking
      bg-gray-900: Match top panel
      rounded-t-lg: Nice rounded top corners
      flex justify-center items-center: Center the button
    -->
    <div id="bottom-bar" class="h-[15%] flex-shrink-0 bg-gray-900 rounded-t-lg shadow-inner flex justify-center items-center">
        <!-- 
          Tappable Button
          w-20 h-20: Large, easy-to-tap size
          rounded-full: Makes it round
          active:scale-90: The tap animation
          transition-all: Smooths the animation
        -->
        <button id="main-button" class="w-20 h-20 bg-cyan-500 rounded-full shadow-lg flex items-center justify-center text-white transition-all duration-150 active:scale-90 active:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-cyan-300">
            <!-- Power icon SVG -->
            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.636 5.636a9 9 0 1012.728 0M12 3v9"></path></svg>
        </button>
    </div>

    <script>
        // --- Data Update Logic ---
        const data1 = document.getElementById('data-1');
        const data2 = document.getElementById('data-2');
        const data3 = document.getElementById('data-3');
        const data4 = document.getElementById('data-4');

        function updateNumbers() {
            data1.textContent = (Math.random() * 100).toFixed(2);
            data2.textContent = (Math.random() * 5 - 2.5).toFixed(2) + '%';
            data3.textContent = (Math.random() * 20 + 70).toFixed(2);
            data4.textContent = (Math.random() * 1000 + 500).toFixed(2);
        }

        // --- Canvas Chart Logic ---
        const canvas = document.getElementById('live-chart');
        const ctx = canvas.getContext('2d');
        
        const maxDataPoints = 100; // Number of points on the chart
        let chartData = [];
        let lastValue = 50; // Start in the middle (0-100 scale)

        // Initialize chart with some data
        function initChartData() {
            chartData = []; // Clear data
            lastValue = 50;
            for (let i = 0; i < maxDataPoints; i++) {
                // Create a simple random walk
                lastValue += (Math.random() - 0.5) * 5;
                lastValue = Math.max(0, Math.min(100, lastValue)); // Clamp 0-100
                chartData.push(lastValue);
            }
        }

        // Draw the chart based on the chartData array
        function drawChart() {
            // Set canvas resolution to match its display size (prevents blur)
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;

            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.strokeStyle = '#4ade80'; // Tailwind 'green-400'
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            const sliceWidth = canvas.width / (maxDataPoints - 1);
            
            for (let i = 0; i < chartData.length; i++) {
                // X position is evenly spaced
                const x = i * sliceWidth;
                // Y position is inverted (0 is top) and scaled to canvas height
                const y = (1 - (chartData[i] / 100)) * canvas.height; 
                
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();
        }

        // Function to update all data (called by interval)
        function updateFeed() {
            // 1. Update text numbers
            updateNumbers();

            // 2. Update chart data
            // Add a new value and remove the oldest one to make it scroll
            lastValue += (Math.random() - 0.5) * 5; // New random walk step
            lastValue = Math.max(0, Math.min(100, lastValue)); // Clamp 0-100
            chartData.shift(); // Remove oldest data point
            chartData.push(lastValue); // Add new data point

            // 3. Redraw the chart
            drawChart();
        }
        
        // --- Initialization ---
        
        // Wait for the page to be fully loaded
        window.onload = () => {
            initChartData(); // Fill the chart data array
            
            // Start the live update loop (updates every 200ms)
            setInterval(updateFeed, 200);

            // Redraw chart on window resize to prevent stretching/blur
            // This is important for orientation changes on mobile
            window.addEventListener('resize', () => {
                // We only need to redraw, not regenerate data
                drawChart();
            });
        };
    </script>
</body>
</html>
