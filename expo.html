<!DOCTYPE html>
<html lang="en" class="h-full bg-black">
<head>
    <meta charset="UTF-8">
    <!-- This viewport tag is CRITICAL for mobile browsing to prevent cutoff -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Mobile Game UI</title>
    <!-- Load Tailwind CSS for easy, responsive styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Use Inter font, a clean sans-serif */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Ensure canvas is crisp on all displays */
        canvas {
            image-rendering: -moz-crisp-edges;
            image-rendering: -webkit-crisp-edges;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }
    </style>
</head>
<!-- 
  h-screen: Full viewport height
  overflow-hidden: Prevents scrolling/bouncing on mobile
  flex flex-col: Main layout axis is vertical
-->
<body class="h-dvh overflow-hidden flex flex-col text-gray-100">

    <!-- 
      Top Panel: 25% height (h-1/4)
      flex-shrink-0: Prevents this panel from shrinking
      p-4: Padding
      bg-gray-900: Dark background for the panel
      rounded-b-lg: Nice modern rounded bottom corners
    -->
    <div id="top-panel" class="h-1/4 flex-shrink-0 p-4 bg-gray-900 rounded-b-lg shadow-lg overflow-hidden">
        <div class="flex justify-between items-center mb-3">
            <span class="text-lg font-bold text-green-400 animate-pulse">‚óè STATUS: LIVE</span>
            <span class="text-xs font-mono text-gray-400">SYS_8774B</span>
        </div>
        
        <!-- Live Data Numbers -->
        <div class="grid grid-cols-2 gap-2 text-sm mb-3">
            <div>
                <span class="text-gray-500">Counter 1:</span>
                <span class="font-mono text-cyan-400 ml-1" id="data-1">0.00</span>
            </div>
            <div>
                <span class="text-gray-500">Rate 1:</span>
                <span class="font-mono text-cyan-400 ml-1" id="data-2">0.00/s</span>
            </div>
            <div>
                <span class="text-gray-500">Counter 2:</span>
                <span class="font-mono text-amber-400 ml-1" id="data-3">0.00</span>
            </div>
            <div>
                <span class="text-gray-500">Rate 2:</span>
                <span class="font-mono text-amber-400 ml-1" id="data-4">0.00/s</span>
            </div>
        </div>

        <!-- Live Chart Canvas -->
        <div class="w-full h-16 grid grid-cols-2 gap-2">
            <canvas id="live-chart-line" class="w-full h-full bg-black bg-opacity-25 rounded-md"></canvas>
            <canvas id="live-chart-bar" class="w-full h-full bg-black bg-opacity-25 rounded-md"></canvas>
        </div>
    </div>

    <!-- 
      Middle Panel: Fills remaining space (flex-1)
      This area is intentionally left blank as requested.
    -->
    <div id="middle-panel" class="flex-1 overflow-auto">
        <!-- Blank area for game content -->
    </div>

    <!-- 
      Bottom Bar: 15% height
      flex-shrink-0: Prevents shrinking
      bg-gray-900: Match top panel
      rounded-t-lg: Nice rounded top corners
      flex justify-center items-center: Center the button
    -->
    <div id="bottom-bar" class="h-[15%] flex-shrink-0 bg-gray-900 rounded-t-lg shadow-inner flex justify-center items-center">
        <!-- 
          Tappable Button
          w-20 h-20: Large, easy-to-tap size
          rounded-full: Makes it round
          active:scale-90: The tap animation
          transition-all: Smooths the animation
        -->
        <button id="main-button" class="w-20 h-20 bg-cyan-500 rounded-full shadow-lg flex items-center justify-center text-white transition-all duration-150 active:scale-90 active:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-cyan-300">
            <!-- Power icon SVG -->
            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.636 5.636a9 9 0 1012.728 0M12 3v9"></path></svg>
        </button>
    </div>

    <script>
        // --- Data Update Logic ---
        const data1 = document.getElementById('data-1');
        const data2 = document.getElementById('data-2');
        const data3 = document.getElementById('data-3');
        const data4 = document.getElementById('data-4');

        // Counter variables
        let counter1 = 0;
        let counter2 = 0;
        const counter1Rate = 1.5; // units per second
        const counter2Rate = 0.75; // units per second

        function updateNumbers() {
            // Increment counters based on rate and interval (200ms = 0.2s)
            counter1 += counter1Rate * 0.2;
            counter2 += counter2Rate * 0.2;

            data1.textContent = counter1.toFixed(2);
            data2.textContent = counter1Rate.toFixed(2) + '/s';
            data3.textContent = counter2.toFixed(2);
            data4.textContent = counter2Rate.toFixed(2) + '/s';
        }

        // --- Canvas Chart Logic ---
        const lineCanvas = document.getElementById('live-chart-line');
        const lineCtx = lineCanvas.getContext('2d');
        const barCanvas = document.getElementById('live-chart-bar');
        const barCtx = barCanvas.getContext('2d');
        
        const maxDataPoints = 50; // Number of points on the line chart
        let lineChartData = [];
        let lastValue = 50; // For random walk

        const numBars = 10; // Number of bars for bar chart
        let barChartData = [];

        // Initialize line chart with random walk data
        function initLineChartData() {
            lineChartData = []; // Clear data
            lastValue = 50;
            for (let i = 0; i < maxDataPoints; i++) {
                lastValue += (Math.random() - 0.5) * 5;
                lastValue = Math.max(0, Math.min(100, lastValue)); // Clamp 0-100
                lineChartData.push(lastValue);
            }
        }

        // Initialize bar chart with random data
        function initBarChartData() {
            barChartData = []; // Clear data
            for (let i = 0; i < numBars; i++) {
                barChartData.push(Math.random() * 100); // Random height 0-100
            }
        }

        // Draw the line chart based on the lineChartData array
        function drawLineChart() {
            // Set canvas resolution to match its display size (prevents blur)
            lineCanvas.width = lineCanvas.offsetWidth;
            lineCanvas.height = lineCanvas.offsetHeight;

            lineCtx.clearRect(0, 0, lineCanvas.width, lineCanvas.height);
            lineCtx.strokeStyle = '#4ade80'; // Tailwind 'green-400'
            lineCtx.lineWidth = 2;
            lineCtx.beginPath();
            
            const sliceWidth = lineCanvas.width / (maxDataPoints - 1);
            
            for (let i = 0; i < lineChartData.length; i++) {
                // X position is evenly spaced
                const x = i * sliceWidth;
                // Y position is inverted (0 is top) and scaled to canvas height
                const y = (1 - (lineChartData[i] / 100)) * lineCanvas.height; 
                
                if (i === 0) {
                    lineCtx.moveTo(x, y);
                } else {
                    lineCtx.lineTo(x, y);
                }
            }
            lineCtx.stroke();
        }

        // Draw the bar chart based on the barChartData array
        function drawBarChart() {
            // Set canvas resolution
            barCanvas.width = barCanvas.offsetWidth;
            barCanvas.height = barCanvas.offsetHeight;

            barCtx.clearRect(0, 0, barCanvas.width, barCanvas.height);
            barCtx.fillStyle = '#4ade80'; // Tailwind 'green-400'
            
            const barWidth = barCanvas.width / numBars;
            
            for (let i = 0; i < barChartData.length; i++) {
                const barHeight = (barChartData[i] / 100) * barCanvas.height;
                const x = i * barWidth;
                const y = barCanvas.height - barHeight; // Y starts from bottom
                
                // -2 for a small gap between bars
                barCtx.fillRect(x, y, barWidth - 2, barHeight);
            }
        }

        // Function to update all data (called by interval)
        function updateFeed() {
            // 1. Update text numbers
            updateNumbers();

            // 2. Update line chart data (scrolling random walk)
            lineChartData.shift(); // Remove oldest data point
            lastValue += (Math.random() - 0.5) * 5; // New random walk step
            lastValue = Math.max(0, Math.min(100, lastValue)); // Clamp 0-100
            lineChartData.push(lastValue); // Add new data point

            // 3. Update bar chart data (randomly change one bar's height)
            const barIndexToUpdate = Math.floor(Math.random() * numBars);
            barChartData[barIndexToUpdate] = Math.random() * 100;

            // 4. Redraw both charts
            drawLineChart();
            drawBarChart();
        }
        
        // --- Initialization ---
        
        // Wait for the page to be fully loaded
        window.onload = () => {
            initLineChartData(); // Fill the line chart data array
            initBarChartData(); // Fill the bar chart data array
            
            // Start the live update loop (updates every 200ms)
            setInterval(updateFeed, 200);

            // Redraw chart on window resize to prevent stretching/blur
            // This is important for orientation changes on mobile
            window.addEventListener('resize', () => {
                // Redraw both charts
                drawLineChart();
                drawBarChart();
            });
        };
    </script>
</body>
</html>
